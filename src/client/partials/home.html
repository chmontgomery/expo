<div class="container">

  View Patient: <select ng-model="selectedPatient" ng-options="p.fullName for p in patients">
    <option value="">-- choose --</option>
  </select>

  <div ng-if="patient">
    <h1>{{ selectedPatient.fullName }}</h1>
    <h2>
      <span class="glyphicon glyphicon-circle-arrow-left small"></span>
      {{ momentForDisplay(day) }}
      <span class="glyphicon glyphicon-calendar small"></span>
      <span class="glyphicon glyphicon-circle-arrow-right small"></span>
    </h2>
    <div class="calendar-container">
      <table>
        <tr>
          <td>
            <div class="fix-left">
                <table class="calendar-table table-bordered">
                  <tr >
                    <th>Medication</th>
                  </tr>
                  <tr ng-repeat="med in patient.medications" class="cal-cell">
                    <td>{{ med.name }}</td>
                  </tr>
                </table>
            </div>
          </td>
          <td>
            <div class="scollable-right">
                <table class="calendar-table table-bordered">
                  <tr >
                    <th ng-repeat="date in dates">
                      {{ date.hour }}:00
                    </th>
                  </tr>
                  <tr ng-repeat="med in patient.medications" class="cal-cell">
                    <td ng-repeat="date in dates" class="time-slot cal-cell" ng-class="{'past': date.hour < 9, 'overdue': date.hour < 9 && !med.given && isMedSchedule(date, med.schedules), 'future': date.hour >= 9 && isMedSchedule(date, med.schedules)}"
                        ng-click="editMedTime(med.id, date.hour)">
                      <div ng-if="isMedSchedule(date, med.schedules)" class="is-med-schedule">
                        <div class="glyphicon glyphicon-list-alt medication-schedule"></div>
                      </div>
                      &nbsp;
                    </td>
                  </tr>
                </table>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
